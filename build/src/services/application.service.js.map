{"version":3,"file":"application.service.js","sourceRoot":"","sources":["../../../src/services/application.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mDAA4C;AAC5C,mCAAwC;AAExC;IAAA;IAkBA,CAAC;IAjBO,kCAAK,GAAX,UAAY,WAAgB;;;;;4BACR,qBAAM,uBAAa,CAAC,iBAAI,CAAC,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,WAAW,CAAC,KAAK,EAAE,CAAC,EAAA;;wBAA7E,WAAW,GAAG,SAA+D;wBAEjF,IAAI,WAAW,IAAI,WAAW,CAAC,eAAe,CAAC,WAAW,CAAC,QAAQ,CAAC,EAAE;4BACpE,sBAAO,EAAE,KAAK,EAAE,SAAS,EAAE,EAAC;yBAC7B;6BAAM;4BACL,sBAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAC;yBAC5B;;;;;KACF;IAEK,mCAAM,GAAZ,UAAa,WAAgB;;;;;;wBACrB,OAAO,GAAG,uBAAa,CAAC,iBAAI,CAAC,CAAC,MAAM,CACxC,WAAW,CACZ,CAAC;wBACa,qBAAM,uBAAa,CAAC,iBAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,EAAA;;wBAAhD,MAAM,GAAG,SAAuC;wBACtD,sBAAO,MAAM,EAAA;;;;KACd;IACH,yBAAC;AAAD,CAAC,AAlBD,IAkBC;AAED,kBAAe,IAAI,kBAAkB,EAAE,CAAC","sourcesContent":["import { User } from \"../models/user.model\";\nimport { getRepository } from \"typeorm\";\n\nclass ApplicationService {\n  async login(requestBody: any) {\n    let currentUser = await getRepository(User).findOne({ email: requestBody.email });\n\n    if (currentUser && currentUser.comparePassword(requestBody.password)) {\n      return { flash: \"success\" };\n    } else {\n      return { flash: \"failed\" };\n    }\n  }\n\n  async signUp(requestBody: any) {\n    const newUser = getRepository(User).create(\n      requestBody\n    );\n    const result = await getRepository(User).save(newUser)\n    return result\n  }\n}\n\nexport default new ApplicationService();\n"]}